<html>
    <head>
        <title>smartpad / 設定</title>
        <link rel="manifest" href="../manifest.json">
        <link rel="stylesheet" href="./style.css">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    </head>
    <body>
        <a href="../index.html">←トップへ戻る</a>
        <h1>設定(現在ぶっ壊れ中)</h1>
        <div>
            <label for=""></label>
            <input type="text">
        </div>

        <footer>
            <button onclick="">もとに戻す</button>
            <button onclick="Save();">保存</button>
        </footer>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                document.body.style.backgroundImage = `url(${localStorage.getItem("backgroundurls")})`;
                document.getElementById("websocketaddress").value = localStorage.getItem("websocketaddress");
            });

            function back_remove(){
                document.body.style.backgroundImage = "";
                localStorage.removeItem("backgroundurls");
            }

            var backgroundurls;
            function Save(){
                var websocketaddress = document.getElementById("websocketaddress").value;
                if(websocketaddress != ""){
                    localStorage.setItem("websocketaddress", websocketaddress);
                }
                window.location.href = '../index.html';
            }

            const fileInput = document.getElementById('fileInput');
            fileInput.addEventListener('change', (event) => {
            const file = event.target.files[0];
            const reader = new FileReader();
            reader.onload = () => {
                document.body.style.backgroundImage = `url(${reader.result})`;
                backgroundurls = reader.result;
                localStorage.setItem("backgroundurls", backgroundurls);
            };
            reader.readAsDataURL(file);
            });
        </script>
    </body>
</html>
